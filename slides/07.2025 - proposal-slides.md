---
marp: true
title: "`Object.getOwnPropertySymbols(value, options)`"
description: TC39 Proposal ‚Äì July 2025
paginate: true
---

# `Object.getOwnPropertySymbols(value, options)`

### Filtering own symbol properties by enumerability

Addressing a performance issue while working with symbols
Champion: `Ruben Bridgewater and Jordan Harband`
Author: `Ruben Bridgewater`
July 2025

---

## 1 ¬∑ Motivation

- **Serializers / loggers** wish to include only enumerable data.
  **Libraries** attach metadata via **symbol-keyed** properties.
  ‚áí often need only *enumerable* **or** *non-enumerable* symbols
- Today‚Äôs pattern
  1. `Object.getOwnPropertySymbols(obj)`
  2. `filter()` + `Object.getOwnPropertyDescriptor` üîç
- Drawbacks
  - Extra descriptor lookups (performance)
  - Boilerplate / error-prone
  - Engines cannot optimize

---

## 2 ¬∑ Prior Art & Existing APIs

| API | Scope | Enumerability filter? |
| --- | --- | --- |
| `Object.getOwnPropertySymbols` | Symbols only | ‚ùå |
| `Object.getOwnPropertyNames` | String keys | ‚ùå |
| `Reflect.ownKeys` | Strings + symbols | ‚ùå |
| `Object.keys` | Enumerable string keys | ‚úÖ (strings only) |

Many very big libraries (Lodash, Node.js, Angular, TypeScript, Next.js, and many more) filter for enumerability of symbols as described in Object.propertyCount.

---

## 2.1 ¬∑ Real World use cases

- [*Next.js*](https://github.com/vercel/next.js/blob/82ab39f8017e2ba1aef668269e5b68cdea94f335/packages/next/src/compiled/%40babel/runtime/helpers/objectSpread.js#L7-L9)
- [*Angular*](https://github.com/angular/angular/blob/6fa8d441979fdbabb88dddd246f54587e17126e8/packages/zone.js/lib/browser/define-property.ts#L48-L60)
- [*TypeScript*](https://github.com/microsoft/TypeScript/blob/83dc0bb2ed91fe0815ab28dc3ff95fae7425e413/src/compiler/factory/emitHelpers.ts#L905-L908)
- [*Lodash*](https://github.com/lodash/lodash/blob/8a26eb42adb303f4adc7ef56e300f14c5992aa68/dist/lodash.js#L6075-L6083)
- [*React*](https://github.com/facebook/react/blob/336614679600af371b06371c0fbdd31fd9838231/packages/react-devtools-shared/src/utils.js#L109-L119)
- ...

---

## 3 ¬∑ Proposed API

```js
Object.getOwnPropertySymbols(value, { enumerable });
```

| option | type / default | result |
| --- | --- | --- |
| `true`  | boolean | **enumerable** symbols only |
| `false` | boolean | **non-enumerable** symbols only |
| `"all"` | string (default) | current behavior |

`options` omitted/null ‚Üí `"all"`.

---

## 4 ¬∑ Illustrative Examples

```js
const hidden  = Symbol('hidden');
const visible = Symbol('visible');

const o = {};
Object.defineProperty(o, hidden, { enumerable: false, value: 1 });
Object.defineProperty(o, visible, { enumerable: true,  value: 2 });

Object.getOwnPropertySymbols(o); // [hidden, visible]
Object.getOwnPropertySymbols(o, { enumerable: true }); // [visible]
Object.getOwnPropertySymbols(o, { enumerable: false }); // [hidden]
```

---

## 5 ¬∑ Draft Specification Text (sketch)

1. Let *obj* be ? `ToObject(value)`.
2. Let *keys* ‚Üê ? `obj.[[OwnPropertyKeys]]()`.
3. Let *symbols* ‚Üê new empty List.
4. For each *key* of *keys*:
   - If *key* is a *Symbol* **and** `PassesFilter(key)`, append.
5. Return `CreateArrayFromList(symbols)`.

`PassesFilter(key)` uses `options.enumerable` (`"all"` | true | false).

---

## 6 ¬∑ Alternatives

1. Separate methods (`Object.getOwnEnumerableSymbolProperties`, ‚Ä¶)
2. Add filters to `Reflect.ownKeys` (string keys too)
3. **Status quo** ‚Äì keep userland helpers

---

## 7 ¬∑ Backwards Compatibility & Security and other Risks

- Non-breaking: 1-arg calls unchanged
- Two-arg form currently unused
- Polyfillable in ES5
- No new data exposed ‚Äì only refined selection
- Accessor side-effects unchanged

---

## 8 ¬∑ Open Questions

1. Allow explicit `"all"` or default only?
2. Future filters (`configurable`, `writable`, ‚Ä¶)?

---

## 9 ¬∑ Next Steps / Ask

- Address comments
- Advance to **Stage 1**
- Publish polyfill (`get-own-property-symbols`)
- Land spec PR + test262
